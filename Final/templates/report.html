{% extends 'base.html' %}

{% block head %}
<script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script type="text/javascript">
    (function(){
        emailjs.init({
            publicKey: "YucshvHaQuTYTuku4",
        });
    })();
</script>
{% endblock %}

{% block body %}

<div class="form_container">
    <form onsubmit="sendEmail(); reset(); return false">
        <h3>Form</h3>
        <input type="text" id="name" placeholder="Name:" required>
        <input type="email" id="email" placeholder="Email:" required>
        <textarea id="message" rows="4" placeholder="Message:"></textarea>
        <button type="submit">Send</button>
    </form>
</div>


<script>
    function sendEmail(){
        let parms = {
            name : document.getElementById("name").value,
            email : document.getElementById("email").value,
            message : document.getElementById("message").value,
        }
        
        emailjs.send("service_lirsgks","template_kxb4e5d",parms).then(alert('Email has been sent'))
    }
</script>

{% endblock %}
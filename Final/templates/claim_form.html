{% extends 'base.html' %}

{% block head %}
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script type="text/javascript">
    (function() {
        emailjs.init({ publicKey: "YucshvHaQuTYTuku4" });
    })();
</script>
{% endblock %}

{% block body %}
<h2 class="page_header">Claim Your Lost Item</h2>

<h2 style="font-size: 30px; margin-top: 25px;">Item Name: {{ item['item_name'] }}</h2>

<div class="claim_form_preview_container">

    <!-- Left: Item preview -->
    <div class="item_preview">
        <img src="{{ url_for('static', filename='uploads/' + item['image_filename']) }}"
             alt="{{ item['item_name'] }}"
             class="claim_preview_image">
        <div class="item_details">
            <p><strong>Description:</strong></p>
            <p>{{ item['description'] }}</p>
            <p><strong>Category:</strong> {{ item['category'] }}</p>
        </div>
    </div>

    <!-- Right: Claim Form -->
    <div class="form_container" id="claim">
        <form id="claim_form" data-item-name="{{ item['item_name'] }}">
            <h3>Enter your details to claim this item:</h3>
            <input type="text" id="name" name="name" placeholder="Your Name" required><br>
            <input type="email" id="email" name="email" placeholder="Your Email" required><br>
            <textarea id="message" name="message" placeholder="Special Description of item"></textarea><br>
            <button type="submit">Send Claim</button>
        </form>
    </div>

</div>
{% endblock %}
